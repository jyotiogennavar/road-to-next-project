{"id":-1,"name":"Onboarding diagram","userId":-1,"createdAt":"","updatedAt":"","content":{"items":[{"uid":"ETHqVOK_lS","position":{"x":30,"y":1140},"sizes":{"width":400,"height":538.6875},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"filePathNode","attrs":{"pathToFile":"","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"src\\actions\\cooies.ts"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"\"use server\"\r\nimport { cookies } from \"next/headers\"\r\n\r\nexport const getCookiebyKey = async (Key: string) => {\r\n   const cookie =  (await cookies()).get(Key);\r\n\r\n   if (!cookie) {\r\n      return null\r\n   }\r\n\r\n    return cookie.value;\r\n}\r\n\r\nexport const setCookiebyKey = async (Key: string, value: string) => {\r\n   (await cookies()).set(Key, value)\r\n}\r\n\r\nexport const deleteCookiebyKey = async (Key: string) => {\r\n    (await cookies()).delete(Key)\r\n  }"}]}]},"nodeType":"block"},{"uid":"s76GntfS4R","position":{"x":660,"y":1110},"sizes":{"width":400,"height":206.1875},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"filePathNode","attrs":{"pathToFile":"","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"src\\features\\ticket\\actions\\upsert-ticket.ts"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"if (id) {\r\n  setCookiebyKey(\"toast\", \"Ticket updated\");\r\n  return redirect(ticketPath(id));\r\n}"}]}]},"nodeType":"block"},{"uid":"WIzr-zqGC6","position":{"x":660,"y":1380},"sizes":{"width":400,"height":405.6875},"autoheight":true,"blockContent":{"type":"doc","content":[{"type":"filePathNode","attrs":{"pathToFile":"","version":1},"content":[{"type":"text","marks":[{"type":"bold"}],"text":"src\\features\\ticket\\actions\\delete-ticket.tsx"}]},{"type":"codeBlock","attrs":{"language":"typescript","wrapCode":true},"content":[{"type":"text","text":"export const deleteTicket = async (id: string) => {\r\n  // delete ticket\r\n  await prisma.ticket.delete({\r\n    where: {\r\n      id,\r\n    },\r\n  });\r\n\r\n  revalidatePath(ticketsPath());\r\n  setCookiebyKey(\"toast\", \"Ticket deleted\");\r\n  redirect(ticketsPath());\r\n}\r\n"}]}]},"nodeType":"block"},{"uid":"LojxbBpA0p","position":{"x":-260,"y":1290},"sizes":{"width":270,"height":171.1875},"autoheight":true,"blockContent":{"text":"getCookiebyKey(Key): Retrieves a cookie value by key.\n\n\n\n\n\n "},"nodeType":"text"},{"uid":"iuwT7ikzQi","position":{"x":-280,"y":1470},"sizes":{"width":300,"height":45.1875},"autoheight":true,"blockContent":{"text":"setCookiebyKey(Key, value): Sets a cookie with the given key and value."},"nodeType":"text"},{"uid":"yJVJjFX2kf","position":{"x":-210,"y":1570},"sizes":{"width":230,"height":45.1875},"autoheight":true,"blockContent":{"text":"deleteCookiebyKey(Key): Deletes a cookie by key."},"nodeType":"text"}],"configs":{"centerX":238.24204542857956,"centerY":-158.96208207012813,"zoomLevel":0.3828650413950284},"arrowData":{"arrowsMap":{"arrow-point-bI0wBh3Ufk-bottom-point-PSPLIYKa9J-top":{"to":"point-PSPLIYKa9J-top","from":"point-bI0wBh3Ufk-bottom","label":"Normal Box","direction":"ft","selectable":true},"arrow-point-bI0wBh3Ufk-bottom-point-ytXK_ayIc1-top":{"to":"point-ytXK_ayIc1-top","from":"point-bI0wBh3Ufk-bottom","label":"Code Box","direction":"ft","selectable":true},"arrow-point-hyyRZE3E8u-right-point-6ZopTaEaDZ-left":{"to":"point-6ZopTaEaDZ-left","from":"point-hyyRZE3E8u-right","label":"call","direction":"ft","selectable":true}},"pointsMap":{"point-PSPLIYKa9J-top":{"x":805.9999797489683,"y":60,"id":"point-PSPLIYKa9J-top","direction":"top"},"point-ytXK_ayIc1-top":{"x":205.99999493724206,"y":60,"id":"point-ytXK_ayIc1-top","direction":"top"},"point-6ZopTaEaDZ-left":{"x":220,"y":605.9999898744841,"id":"point-6ZopTaEaDZ-left","direction":"left"},"point-hyyRZE3E8u-right":{"x":100,"y":606,"id":"point-hyyRZE3E8u-right","direction":"right"},"point-bI0wBh3Ufk-bottom":{"x":515.9999797489683,"y":-40,"id":"point-bI0wBh3Ufk-bottom","direction":"bottom"}},"edgesMap":{"edge-ETHqVOK_lS-ETHqVOK_lS-right-s76GntfS4R-s76GntfS4R-left":{"uid":"edge-ETHqVOK_lS-ETHqVOK_lS-right-s76GntfS4R-s76GntfS4R-left","fromNodeId":"ETHqVOK_lS","fromHandleId":"ETHqVOK_lS-right","toNodeId":"s76GntfS4R","toHandleId":"s76GntfS4R-left","direction":"ft","selectable":true,"type":"solid","content":{"label":""}},"edge-ETHqVOK_lS-ETHqVOK_lS-right-WIzr-zqGC6-WIzr-zqGC6-left":{"uid":"edge-ETHqVOK_lS-ETHqVOK_lS-right-WIzr-zqGC6-WIzr-zqGC6-left","fromNodeId":"ETHqVOK_lS","fromHandleId":"ETHqVOK_lS-right","toNodeId":"WIzr-zqGC6","toHandleId":"WIzr-zqGC6-left","direction":"ft","selectable":true,"type":"solid","content":{"label":""}}}}}}